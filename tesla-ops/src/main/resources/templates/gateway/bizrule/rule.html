<div class="row">
	<div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
		<h1 class="page-title txt-color-blueDark">
			<i class="fa fa-table fa-desktop"></i> <span> 路由规则管理</span>
		</h1>
	</div>
</div>
<div class="row">
	<div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
		<div class="jarviswidget">
			<button shiro:hasPermission="filter:rule:add" type="button"
				class="btn  btn-primary" onclick="add()">
				<i class="glyphicon glyphicon-plus"></i> 添加
			</button>
			&nbsp;
			<button shiro:hasPermission="filter:rule:batchRemove" type="button"
				class="btn  btn-danger" onclick="batchRemove()">
				<i class="glyphicon glyphicon-remove"></i> 删除
			</button>
		</div>
	</div>
</div>
<section id="widget-grid">
	<div class="row">
		<article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
			<div class="jarviswidget jarviswidget-color-darken" data-widget-editbutton="false">
				<header>
					<span class="widget-icon"> <i class="fa fa-table"></i></span>
					<h2>路由规则列表</h2>
				</header>
				<div>
					<div class="widget-body no-padding">
						<table id="ruleTable"
							class="table table-striped table-bordered table-hover"
							style="table-layout: fixed;">
						</table>
					</div>
					<div>
						<script type="text/javascript">
			              var s_edit_h = 'hidden';
			              var s_remove_h = 'hidden';
			            </script>
					</div>
					<div shiro:hasPermission="filter:rule:edit">
						<script type="text/javascript">
			              s_edit_h = '';
			            </script>
					</div>
					<div shiro:hasPermission="filter:rule:remove">
						<script type="text/javascript">
			              var s_remove_h = '';
			            </script>
					</div>
				</div>
			</div>
		</article>
	</div>
</section>
<div id="dialog"></div>
<script id="ruleTables" type="type/x-jquery-tmpl">
	<ul class="nav nav-tabs">
        {{each(i,userFilter) userFilters}}
          <li>
			<a href="#tab{{= userFilter.id}}" data-toggle="tab">{{= userFilter.filterClass}}</a>
		  </li>
        {{/each}}
	</ul>
    <div class="tab-content">
      {{each(i,userFilter) userFilters}}
	  <div id="tab{{= userFilter.id}}" class="tab-pane">
         <textarea rows="50" id="{{= userFilter.filterClass.substr(userFilter.filterClass.lastIndexOf('.')+1)}}" style="width:880px;height:600px;" >{{if userFilter.rule != null}}{{= userFilter.rule}}{{/if}}{{if userFilter.rule == null}}无具体执行规则{{/if}}</textarea>
	   </div>
       {{/each}}
    </div>
</script>
<script type="text/javascript" src="/js/appjs/gateway/bizrule/rule.js"></script>
